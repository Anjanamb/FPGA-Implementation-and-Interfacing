module Counter_8bit(input clk, output[15:0] counter, output[15:0] address, output wren);
reg [15:0] counter_up;
reg [15:0] address_reg;
reg reset;
reg wren_reg; 
reg [15:0] test;

assign counter = counter_up;
assign address = address_reg;
assign wren = wren_reg;

initial
begin
address_reg=16'b0;
reset = 0;
counter_up = 0;
wren_reg = 1;
test = 16'd0;
end	




always @(posedge clk or posedge reset)
begin
if(reset)
begin
 counter_up <= 16'd0;
end
else
begin
 counter_up <= counter_up + 16'd1;
 if(counter_up > 16'd100)
 begin
 test = test+1;
 end
end 

end 


always @(negedge clk)
begin
   if(counter_up > 16'd100)
	begin
	wren_reg <= 0;
	address_reg <= test;
	end
	else
	begin
	address_reg <= address_reg + 16'd1;
	end
end

endmodule